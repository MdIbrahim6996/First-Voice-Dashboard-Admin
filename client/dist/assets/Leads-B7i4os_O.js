import{c as P,d as E,u as x,V as H,j as e,m as n,r as d,M as Q,k as W}from"./index-CM52sLvF.js";import{F as Y,C as Z,a as G}from"./index-Dwa0shfc.js";import{u as U}from"./useMutation-Cofgac2i.js";import{a as M}from"./status-CDMecnCR.js";import{u as J,d as X,a as _}from"./lead-DfGRg-Sk.js";import{g as ee}from"./process-C2-C5n4S.js";import{c as se}from"./user-B0gsKgDQ.js";import{D as ae}from"./DeleteModal-CSuMlfgb.js";import{L as le}from"./Loader-rr3d_VAy.js";import{E as re}from"./EmptyState-CxFCon6Z.js";import"./index-DLIjNi7g.js";const te=({handleClose:a,item:r})=>{const{register:l,handleSubmit:c,formState:{errors:t},watch:m}=P({defaultValues:{title:r?.title,firstName:r?.firstName,middleName:r?.middleName,lastName:r?.lastName,address:r?.address,city:r?.city,country:r?.country,centre:r?.centre,pincode:r?.pincode,phone:r?.phone,fee:r?.fee,currency:r?.currency,bankName:r?.bankName,accountName:r?.accountName,accountNumber:r?.accountNumber,sort:r?.sort,dateOfBirth:r?.dateOfBirth?.substring(0,10),status:r?.statusId}}),p=E(),h=m("status"),f=m("status"),{data:u}=x({queryKey:["status"],queryFn:M}),y=U({mutationFn:J,onSuccess:o=>{o?.id&&(p.invalidateQueries({queryKey:["leads"]}),H.success("Edited Successfully."),a())}}),N=o=>{y.mutate({...o,id:r?.id,initialStatus:r?.status?.name,finalStatus:h})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50 overflow-y-scroll",children:e.jsxs(n.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-3xl h-[90vh] overflow-y-scroll",children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Add a New Holiday"})}),e.jsx("div",{className:"m-4 my-10",children:e.jsxs(n.form,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:c(N),autoComplete:"off",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"title",className:"font-semibold",children:"Change Status"}),e.jsxs("select",{...l("status",{required:"Please select Status."}),id:"status",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{selected:!0,disabled:!0,value:"0",children:"Select A Status"}),u?.map(o=>e.jsx("option",{value:o?.id,children:o?.name}))]}),t?.status&&e.jsx("p",{className:"text-red-500",children:t?.status?.message})]}),r?.statusId!==f&&e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5 my-2",children:[e.jsx("label",{htmlFor:"reason",className:"font-semibold",children:"Reason For Status Change:"}),e.jsx("textarea",{rows:5,id:"reason",...l("reason"),placeholder:"Reason",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsx("p",{className:"mb-4 text-2xl font-semibold italic text-black/80 underline",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"title",className:"font-semibold",children:["Title"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...l("title",{required:"Please select Title."}),id:"title",defaultValue:"1",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{value:"Mr.",children:"Mr."}),e.jsx("option",{value:"Mrs.",children:"Mrs."}),e.jsx("option",{value:"Miss",children:"Miss"}),e.jsx("option",{value:"Ms",children:"Ms"})]}),t?.title&&e.jsx("p",{className:"text-red-500",children:t?.title?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"firstName",className:"font-semibold",children:["First Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...l("firstName",{required:"Please Enter First Name."}),id:"firstName",placeholder:"First Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),t?.firstName&&e.jsx("p",{className:"text-red-500",children:t?.firstName?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"middleName",className:"font-semibold",children:"Middle Name"}),e.jsx("input",{type:"text",...l("middleName"),id:"middleName",placeholder:"Middle Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"lastName",className:"font-semibold",children:["Last Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...l("lastName",{required:"Please Enter Last Name."}),id:"lastName",placeholder:"Last Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),t?.lastName&&e.jsx("p",{className:"text-red-500",children:t?.lastName?.message})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsxs("label",{htmlFor:"centre",className:"font-semibold",children:["Centre"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...l("centre",{required:"Please Enter Centre Name."}),id:"centre",placeholder:"Centre",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),t?.centre&&e.jsx("p",{className:"text-red-500",children:t?.centre?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm col-span-4",children:[e.jsx("label",{htmlFor:"address",className:"font-semibold",children:"Address"}),e.jsx("textarea",{...l("address"),id:"address",placeholder:"Address",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"city",className:"font-semibold",children:"City"}),e.jsx("input",{type:"text",...l("city"),id:"city",placeholder:"West Bridgford",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"country",className:"font-semibold",children:"Country"}),e.jsx("input",{type:"text",...l("country"),id:"country",placeholder:"Nottinghamshire",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"pinCode",className:"font-semibold",children:["Pin Code"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...l("pincode"),id:"pinCode",placeholder:"700001",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Password"}),e.jsx("input",{type:"password",...l("password"),id:"password",placeholder:"***********",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"dob",className:"font-semibold",children:"Date of Birth"}),e.jsx("input",{type:"date",...l("dateOfBirth"),id:"dob",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"phoneNumber",className:"font-semibold",children:["Phone Number"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",maxLength:10,...l("phone",{required:"Please Enter Phone Number."}),id:"phone",placeholder:"(033) 2347 9645",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),t?.phone&&e.jsx("p",{className:"text-red-500",children:t?.phone?.message})]})]}),e.jsx("p",{className:"mb-4 mt-16 text-2xl font-semibold italic text-black/80 underline",children:"Customer Plan and Product Details"}),e.jsxs("div",{className:"grid grid-cols-5 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"fee",className:"font-semibold",children:"Fee"}),e.jsx("input",{type:"number",...l("fee"),id:"fee",placeholder:"$49",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"currency",className:"font-semibold",children:"Currency"}),e.jsxs("select",{...l("currency",{required:"Please Select a Currency."}),id:"currency",defaultValue:"1",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{value:"US DOLLAR",children:"US DOLLAR"}),e.jsx("option",{value:"BRITISH POUND",children:"BRITISH POUND"}),e.jsx("option",{value:"AUSTRALIAN DOLLAR",children:"AUSTRALIAN DOLLAR"}),e.jsx("option",{value:"NEW ZEALAND DOLLAR",children:"NEW ZEALAND DOLLAR"})]}),t?.currency&&e.jsx("p",{className:"text-red-500",children:t?.currency?.message})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"bankName",className:"font-semibold",children:"Bank Name"}),e.jsx("input",{type:"text",...l("bankName"),id:"bankName",placeholder:"West Bridgford",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountName",className:"font-semibold",children:"Account Name"}),e.jsx("input",{type:"text",...l("accountName"),id:"accountName",placeholder:"Nottinghamshire",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountNumber",className:"font-semibold",children:"Account Number"}),e.jsx("input",{type:"text",...l("accountNumber"),id:"accountNumber",placeholder:"700001",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"sort",className:"font-semibold",children:"SORT Code"}),e.jsx("input",{type:"text",...l("sort"),id:"sort",placeholder:"Sort Code",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),t?.sort&&e.jsx("p",{className:"text-red-500",children:t?.sort?.message})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"appliance",className:"font-semibold",children:"Appliance"}),e.jsx("input",{type:"text",name:"appliance",id:"appliance",placeholder:"Nottinghamshire",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"makeOfAppliance",className:"font-semibold",children:"Make of Appliance"}),e.jsx("input",{type:"text",name:"makeOfAppliance",id:"makeOfAppliance",placeholder:"700001",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"age",className:"font-semibold",children:"Age"}),e.jsx("input",{type:"text",name:"age",id:"age",placeholder:"***********",className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"comments",className:"font-semibold",children:"Comments"}),e.jsx("textarea",{name:"comment",rows:5,id:"comments",placeholder:"Comments if Any",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})}),e.jsxs("div",{className:"my-4 text-center",children:[e.jsx("button",{type:"submit",className:"w-full cursor-pointer bg-green-500 hover:bg-green-600 text-white font-medium py-2 rounded mb-3 transition-colors",children:"Submit"}),e.jsx("button",{onClick:a,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})]})]})})]})})},de=({details:a,handleClose:r})=>{const{register:l,watch:c}=P({defaultValues:{...a}}),t=c("paymentMethod");return console.log(a),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:e.jsxs(n.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-4xl max-h-[95vh]  overflow-y-scroll",children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Lead Details"})}),e.jsx("div",{className:"overflow-y-scroll h-full",children:e.jsx("div",{className:"p-5",children:e.jsxs(n.form,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},autoComplete:"off",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"mb-4 text-2xl font-semibold italic text-black/80 underline",children:"Customer Information"}),e.jsx("p",{className:"bg-blue-600 text-white rounded px-3 py-0.5 text-sm",children:new Date(a?.createdAt).toDateString().substring(0,10)})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"title",className:"font-semibold",children:["Title",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.title})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"firstName",className:"font-semibold",children:["First Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.firstName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"middleName",className:"font-semibold",children:"Middle Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.middleName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"lastName",className:"font-semibold",children:["Last Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.lastName})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsxs("label",{htmlFor:"centre",className:"font-semibold",children:["Centre"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.centre})]}),e.jsxs("div",{className:"flex flex-col text-sm col-span-3",children:[e.jsx("label",{htmlFor:"address",className:"font-semibold",children:"Address"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.address})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"city",className:"font-semibold",children:"City"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.city})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"county",className:"font-semibold",children:"County"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.county})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"pinCode",className:"font-semibold",children:["Pin Code",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.pincode})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Password"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.password})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"dob",className:"font-semibold",children:"Date of Birth"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.dateOfBirth?.substring(0,10)})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"phoneNumber",className:"font-semibold",children:["Phone Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.phone})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"poa",className:"font-semibold",children:["Power of Attorney",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.poa?.toString()})]})]}),e.jsx("p",{className:"mb-4 mt-16 text-2xl font-semibold italic text-black/80 underline",children:"Customer Plan and Product Details"}),e.jsxs("div",{className:"grid grid-cols-5 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"process",className:"font-semibold",children:"Process"}),e.jsx("p",{...l("process"),id:"process",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.process?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"plan",className:"font-semibold",children:"Plan"}),e.jsx("p",{...l("plan"),id:"plan",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.plan?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"leadBy",className:"font-semibold",children:"Lead By"}),e.jsx("p",{id:"leadBy",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.leadBy?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"closer",className:"font-semibold",children:"Closer"}),e.jsx("p",{...l("closer"),id:"closer",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.closer?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"verifier",className:"font-semibold",children:"Verifier"}),e.jsx("p",{...l("verifier"),id:"verifier",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.verifier?.name?a?.verifier?.name:"No Verifier"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"paymentMethod",className:"font-semibold",children:"Payment Method"}),e.jsx("p",{...l("paymentMethod"),id:"paymentMethod",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.paymentMethod})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"shift",className:"font-semibold",children:"Shift"}),e.jsx("p",{...l("shift"),id:"shift",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.shift})]})]}),t==="directDebit"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"bank account details"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"bankName",className:"font-semibold",children:"Bank Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.bankName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountName",className:"font-semibold",children:"Account Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.accountName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountNumber",className:"font-semibold",children:"Account Number"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.accountNumber})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"sort",className:"font-semibold",children:"SORT Code"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.sort})]})]})]}),t==="card"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"card details"}),e.jsxs("div",{className:"grid grid-cols-8 gap-x-4 gap-y-4 ",children:[e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardName",className:"font-semibold",children:"Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardName})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardBankName",className:"font-semibold",children:"Bank Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardBankName})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardNumber",className:"font-semibold",children:"Card Number"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardNumber})]}),e.jsxs("div",{className:"col-span-1 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"expiry",className:"font-semibold",children:"Card Expiry"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.expiry})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cvv",className:"font-semibold",children:"Card CVV"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase h-full",children:a?.cardCvv})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"comments",className:"font-semibold",children:"Comments"}),e.jsx("textarea",{name:"comment",readOnly:!0,value:a?.comment,rows:5,id:"comments",placeholder:"Comments if Any",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:r,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})})]})})})]})})},be=()=>{const[a,r]=d.useState(""),[l,c]=d.useState(0),[t,m]=d.useState(0),[p,h]=d.useState(0),[f,u]=d.useState(0),[y,N]=d.useState(""),[o,v]=d.useState(""),[w,F]=d.useState(""),[C,S]=d.useState(0),[k,D]=d.useState({}),[B,O]=d.useState(),[j,i]=d.useState({edit:!1,delete:!1,view:!1}),A=E(),{data:R}=x({queryKey:["process"],queryFn:ee}),{data:T}=x({queryKey:["user"],queryFn:se}),g=T?.filter(s=>s?.role==="user"),{data:q}=x({queryKey:["status"],queryFn:M}),{data:b,refetch:L,isLoading:I}=x({queryKey:["leads",C],queryFn:()=>_(C,a,l,t,p,f,y,o,w)}),{mutate:V}=U({mutationFn:s=>X(s),onSuccess:()=>{A.invalidateQueries({queryKey:["leads"]})}}),K=[{label:"ACCOUNT NAME",key:"accountName"},{label:"ADDRESS",key:"address"},{label:"BANK NAME",key:"bankName"},{label:"CENTRE",key:"centre"},{label:"CITY",key:"city"},{label:"COUNTRY",key:"country"},{label:"CURRENCY",key:"currency"},{label:"TITLE",key:"title"},{label:"FIRST NAME",key:"firstName"},{label:"MIDDLE NAME",key:"middleName"},{label:"LAST NAME",key:"lastName"},{label:"DATE OF BIRTH",key:"dateOfBirth"},{label:"PHONE",key:"phone"},{label:"PROCESS",key:"process"},{label:"PLAN",key:"plan"},{label:"FEE",key:"fee"},{label:"SALE DATE",key:"saleDate"},{label:"STATUS",key:"status.name"},{label:"SORT",key:"sort"},{label:"PROCESS ID",key:"processId"},{label:"PLAN ID",key:"planId"}],$=()=>{r(""),h(0),m(0),u(0),S(0),c(0),N(""),v(""),F(""),L()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"p-5",children:[e.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:0},children:[e.jsxs("div",{className:"grid grid-cols-4 gap-x-5 gap-y-3",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",placeholder:"PHONE",value:a,onChange:s=>r(s?.target?.value),id:"phone",className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"process",children:"Process"}),e.jsxs("select",{name:"process",id:"process",onChange:s=>c(s.target.value),value:l,className:"border outline-none border-gray-400 px-3 py-1 rounded-md",children:[e.jsx("option",{value:0,selected:!0,disabled:!0,children:"Select A Process"}),R?.map(s=>e.jsx("option",{value:s?.id,children:s?.name?.toUpperCase()},s?.id))]})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"leadUser",children:"Lead User"}),e.jsxs("select",{name:"leadUser",id:"leadUser",value:t,onChange:s=>m(s?.target?.value),className:"border outline-none border-gray-400 px-3 py-1 rounded-md",children:[e.jsx("option",{value:0,selected:!0,disabled:!0,children:"Select Lead User"}),g?.map(s=>e.jsx("option",{value:s?.id,className:"uppercase",children:s?.name},s?.id))]})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"closerUser",children:"Closer User"}),e.jsxs("select",{name:"closerUser",value:p,onChange:s=>h(s?.target?.value),id:"closerUser",className:"border outline-none border-gray-400 px-3 py-1 rounded-md",children:[e.jsx("option",{value:0,selected:!0,disabled:!0,children:"Select Closer User"}),g?.map(s=>e.jsx("option",{value:s?.id,className:"uppercase",children:s?.name},s?.id))]})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"verifierUser",children:"Verifier User"}),e.jsxs("select",{name:"verifierUser",onChange:s=>u(s?.target?.value),id:"verifierUser",className:"border outline-none border-gray-400 px-3 py-1 rounded-md",children:[e.jsx("option",{value:0,selected:!0,disabled:!0,children:"Select Verifier User"}),g?.map(s=>e.jsx("option",{value:s?.id,className:"uppercase",children:s?.name},s?.id))]})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"saleDate",children:"Sale Date"}),e.jsx("input",{type:"date",name:"saleDate",value:y,id:"saleDate",onChange:s=>N(s.target.value),className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"fromDate",children:"From Date"}),e.jsx("input",{type:"date",name:"fromDate",value:o,id:"fromDate",onChange:s=>v(s.target.value),className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"toDate",children:"To Date"}),e.jsx("input",{type:"date",name:"toDate",value:w,id:"toDate",onChange:s=>F(s.target.value),className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]})]}),e.jsxs("div",{className:"mb-10 mt-3 flex items-center gap-2 text-sm",children:[e.jsx("button",{onClick:()=>L(),className:"bg-green-500 text-white px-10 py-1 rounded-md cursor-pointer",children:"Search"}),e.jsx("button",{onClick:$,className:"bg-sky-500 text-white px-10 py-1 rounded-md cursor-pointer",children:"Reset Filters"})]})]}),e.jsxs("div",{className:"mb-5  text-gray-900 bg-white ",children:[e.jsx(n.p,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-3xl font-semibold uppercase origin-center w-fit",children:"Leads - All Leads"}),e.jsx(n.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mt-1 text-sm font-normal text-gray-700 w-[50%]",children:"Browse a list of Flowbite products designed to help you work and play, stay organized, get answers, keep in touch, grow your business, and more."})]}),e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mt-1 text-sm font-normal text-gray-700 w-full",children:e.jsxs("div",{className:"flex  mb-5 items-center justify-between",children:[e.jsx("div",{className:"flex gap-x-1",children:q?.map(s=>e.jsx("button",{onClick:()=>{S(s?.id),A.invalidateQueries({queryKey:["leads"]})},className:`${s?.name.toLowerCase()==="success"?"bg-green-500":""} ${s?.name.toLowerCase()==="cancelled"?"bg-red-500":""} ${s?.name.toLowerCase()==="pending"?"bg-yellow-500":""} ${s?.name.toLowerCase()==="rework/warmup"?"bg-sky-500":""} bg-gray-500 text-white text-xs font-semibold px-6 py-1 rounded-md capitalize cursor-pointer`,children:s?.name},s?.id))}),e.jsxs("button",{className:"py-1.5 px-7 bg-green-700 text-white rounded-md text-sm flex gap-1 items-center cursor-pointer",children:[e.jsx(Y,{className:"text-lg"})," ",e.jsx(Z,{headers:K,data:b||[],filename:"Leads.csv",children:"Export as CSV"})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-x-auto shadow-md sm:rounded-lg w-full",children:I?e.jsx(le,{}):b?.length>0?e.jsxs("table",{className:"text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-center text-gray-700 uppercase bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sr. No."}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sale Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Lead By"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Closed By"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Verified By"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Process"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Plan"})]})}),e.jsx("tbody",{children:b?.map((s,z)=>e.jsxs("tr",{className:" capitalize text-center border-b :border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap :text-white",children:z+1}),e.jsxs("td",{className:"px-6 py-4 flex flex-col gap-1 items-center",children:[e.jsx("button",{onClick:()=>{i({edit:!0,delete:!1,view:!1}),D(s)},className:"font-medium text-white bg-green-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1 cursor-pointer",children:e.jsx(Q,{})}),e.jsx("button",{onClick:()=>{D(s),i({edit:!1,delete:!1,view:!0})},className:"font-medium text-white bg-blue-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1 cursor-pointer",children:e.jsx(G,{})}),e.jsx("button",{onClick:()=>{O(s?.id),i({edit:!1,delete:!0,view:!1})},className:"font-medium text-white bg-red-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1 cursor-pointer",children:e.jsx(W,{})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("p",{className:`${s?.status?.name?.toLowerCase()==="success"?"bg-green-500":""} ${s?.status?.name?.toLowerCase()==="pending"?"bg-yellow-500":""} ${s?.status?.name?.toLowerCase()==="cancelled"?"bg-red-500":""} ${s?.status?.name?.toLowerCase()==="rework/warmup"?"bg-sky-500":""} px-3 py-1 text-xs rounded font-semibold text-white`,children:s?.status?.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(s?.saleDate).toDateString()}),e.jsx("td",{className:"px-6 py-4",children:s?.leadBy?.name}),e.jsx("td",{className:"px-6 py-4",children:s?.closer?.name}),e.jsx("td",{className:"px-6 py-4",children:s?.verifier?.name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s?.title," ",s?.firstName," ",s?.middleName," ",s?.lastName]}),e.jsx("td",{className:"px-6 py-4",children:s?.phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s?.process?.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s?.plan?.name})]},s?.id))})]}):e.jsx(re,{})})]})}),j.delete&&e.jsx(ae,{handleClose:()=>i({edit:!1,view:!1,delete:!1}),handleDelete:()=>V(B)}),j.edit&&e.jsx(te,{handleClose:()=>i({edit:!1,view:!1,delete:!1}),item:k}),j.view&&e.jsx(de,{handleClose:()=>i({edit:!1,view:!1,delete:!1}),details:k})]})};export{be as default};
