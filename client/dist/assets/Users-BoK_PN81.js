import{r as i,e as y,u as f,j as e,m as r,l as u,M as w,f as j}from"./index-BNTtBKWT.js";import{F as g,C as N,a as b}from"./index-Ctob-Qf-.js";import{D as v}from"./DeleteModal-Du-jSmnB.js";import{C as k,E as C,U as E}from"./UserInfoModal-Bvn93hTo.js";import{u as M}from"./useMutation-D8AifmkW.js";import{d as U,g as F}from"./user-Di0jfns1.js";import"./index-1qb7Au9R.js";import"./process-DnZPpTe7.js";import"./utils-h1KLssic.js";import"./userAttendance-BXD8LZLS.js";const z=()=>{const[t,a]=i.useState({create:!1,view:!1,edit:!1,delete:!1}),[c,d]=i.useState(),[o,n]=i.useState({}),p=y(),{data:l}=f({queryKey:["user"],queryFn:F});console.log(l);const x=M({mutationFn:s=>U(s),onSuccess:()=>{p.invalidateQueries({queryKey:["user"]})}}),m=[{label:"EMAIL",key:"email"},{label:"EMPLOYEE ID",key:"employeeId"},{label:"ID",key:"id"},{label:"NAME",key:"name"},{label:"PHONE",key:"phone"},{label:"ROLE",key:"role"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb- text-gray-900 bg-white ",children:[e.jsxs(r.div,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex justify-between items-center origin-center",children:[e.jsx("p",{className:"text-3xl font-semibold uppercase origin-center w-fit",children:"My Workspsaces - All Users"}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>a({create:!0,view:!1,edit:!1,delete:!1}),className:"py-1.5 px-7 bg-blue-700 text-white rounded-md text-sm flex gap-1 items-center",children:[e.jsx(u,{className:"text-xl"})," Add User"]})})]}),e.jsx(r.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mt-1 text-sm font-normal text-gray-700 w-[50%]",children:"Browse a list of Flowbite products designed to help you work and play, stay organized, get answers, keep in touch, grow your business, and more."})]}),e.jsx(r.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-row-reverse",children:e.jsxs("button",{className:"py-1.5 px-7 my-3 bg-green-700 text-white rounded-md text-sm flex gap-2 items-center cursor-pointer",children:[e.jsx(g,{className:"text-lg"}),e.jsx(N,{data:l||[],headers:m,filename:"Users.csv",children:"Export as CSV"})]})}),e.jsx(r.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-x-auto shadow-md",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-center text-gray-700 uppercase bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Sr. No."}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"actions"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"alias"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap ",children:"Phone"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"blocked"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Process"})]})}),e.jsx("tbody",{children:l?.map((s,h)=>e.jsxs("tr",{className:"capitalize text-center odd:bg-white odd::bg-gray-900 even:bg-gray-50 even::bg-gray-800 border-b :border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap :text-white",children:h+1}),e.jsxs("td",{className:"px-6 py-4 flex flex-col gap-1 items-center justify-center",children:[e.jsx("button",{onClick:()=>{n(s),a({create:!1,edit:!0,view:!1,delete:!1})},className:"font-medium text-white bg-green-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1",children:e.jsx(w,{})}),e.jsx("button",{onClick:()=>{d(s.id),a({create:!1,edit:!1,view:!0,delete:!1})},className:"font-medium text-white bg-blue-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1",children:e.jsx(b,{})}),e.jsx("button",{onClick:()=>{d(s.id),a({create:!1,edit:!1,view:!1,delete:!0})},className:"font-medium text-white bg-red-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1",children:e.jsx(j,{})})]}),e.jsx("td",{className:"px-6 py-4",children:s?.name}),e.jsx("td",{className:"px-6 py-4",children:s?.alias}),e.jsx("td",{className:"px-6 py-4",children:s?.role}),e.jsx("td",{className:"px-6 py-4",children:s?.phone}),e.jsx("td",{className:"px-6 py-4",children:s?.email}),e.jsx("td",{className:"px-6 py-4",children:s?.isBlocked?e.jsx("p",{className:"bg-red-500 px-2 py-0.5 rounded text-xs text-white",children:"blocked"}):e.jsx("p",{className:"bg-green-500 px-2 py-0.5 rounded text-xs text-white",children:"active"})}),e.jsx("td",{className:"px-6 py-4",children:s?.process?.name})]}))})]})})]})}),t.create&&e.jsx(k,{handleClose:()=>a({create:!1,view:!1,edit:!1,delete:!1})}),t.edit&&e.jsx(C,{handleClose:()=>a({create:!1,view:!1,edit:!1,delete:!1}),detail:o}),t.view&&e.jsx(E,{handleClose:()=>a({create:!1,view:!1,edit:!1,delete:!1}),userId:c}),t.delete&&e.jsx(v,{handleClose:()=>a({create:!1,view:!1,edit:!1,delete:!1}),handleDelete:()=>x.mutate(c)})]})};export{z as default};
