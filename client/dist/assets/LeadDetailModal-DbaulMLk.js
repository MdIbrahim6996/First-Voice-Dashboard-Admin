import{a as g,b as v,V as y,c as F,e as S,j as e,m as b,r as f,u}from"./index-BNTtBKWT.js";import{u as A}from"./useMutation-D8AifmkW.js";import{u as R}from"./lead-DAKLIK_6.js";import{v as w}from"./index-DcrNpmUv.js";import{g as Q}from"./status-DLqXNssF.js";import{g as Y}from"./process-DnZPpTe7.js";import{g as G}from"./plan-Cxk3_-rt.js";import{g as $}from"./user-Di0jfns1.js";const P=async a=>{try{const{data:s}=await g.get(`/appliance/${a}`);return s}catch(s){return console.log(s),v.isAxiosError(s)&&y.error(s?.response?.data?.message,{id:"getAppliance"}),s}},re=async a=>{try{const{data:s}=await g.post("/appliance/appliance-per-page",{leadIds:a});return s}catch(s){return console.log(s),v.isAxiosError(s)&&y.error(s?.response?.data?.message,{id:"getAppliance"}),s}},H=async(a,s)=>{try{const{data:n}=await g.put(`/appliance/${a}`,{...s});return n}catch(n){return console.log(n),v.isAxiosError(n)&&y.error(n?.response?.data?.message,{id:"getAppliance"}),n}},W=({handleClose:a,detail:s})=>{const{register:n,handleSubmit:m}=F({defaultValues:{name:s?.name,makeOfAppliance:s?.makeOfAppliance,age:s?.age}}),x=S(),{mutate:d}=A({mutationFn:i=>H(s?.id,i),onSuccess:()=>{y.success("Updated Successfully!"),x.invalidateQueries({queryKey:["appliance"]}),a()}}),t=async i=>{d(i)};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-[60]",onClick:a,children:e.jsxs(b.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-xl  overflow-hidden",onClick:i=>i.stopPropagation(),children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Edit This Appliance"})}),e.jsxs("form",{onSubmit:m(t),className:"px-6 py-5 space-y-2",autoComplete:"off",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",placeholder:"Name",...n("name"),className:"w-full border border-gray-400 px-2 py-1 rounded-md outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"makeOfAppliance",children:"Make Of Appliance"}),e.jsx("input",{type:"text",id:"makeOfAppliance",placeholder:"Make Of Appliance",...n("makeOfAppliance"),className:"w-full border border-gray-400 px-2 py-1 rounded-md outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",children:"Age"}),e.jsx("input",{type:"number",placeholder:"10",id:"age",...n("age"),className:"w-full border border-gray-400 px-2 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"my-4 text-center",children:[e.jsx("button",{type:"submit",className:"w-full cursor-pointer bg-green-500 hover:bg-green-600 text-white font-medium py-2 rounded mb-3 transition-colors",children:"Submit"}),e.jsx("button",{onClick:a,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})]})]})]})})},ce=({handleClose:a,item:s})=>{const[n,m]=f.useState(""),[x,d]=f.useState(!1),[t,i]=f.useState(null),{register:c,unregister:h,trigger:k,handleSubmit:M,formState:{errors:l},watch:p}=F({defaultValues:{title:s?.title,firstName:s?.firstName,middleName:s?.middleName,lastName:s?.lastName,address:s?.address,city:s?.city,county:s?.county,centre:s?.centre,pincode:s?.pincode,phone:s?.phone,password:s?.password,poa:String(s?.poa),process:s?.processId,plan:s?.planId,closer:s?.closerId,verifier:s?.verifierId,paymentMethod:s?.paymentMethod,bank:{accountName:s?.accountName,accountNumber:s?.accountNumber,bankName:s?.bankName,sort:s?.sort},card:{cardNumber:s?.cardNumber,bankName:s?.cardBankName,name:s?.cardName,cvv:s?.cardCvv,expiry:s?.expiry},bankName:s?.bankName,accountName:s?.accountName,accountNumber:s?.accountNumber,sort:s?.sort,comment:s?.comment,dateOfBirth:s?.dateOfBirth?.substring(0,10),status:s?.statusId}}),q=S(),E=p("status"),D=p("status"),{data:V}=u({queryKey:["status"],queryFn:Q}),{data:B}=u({queryKey:["process"],queryFn:Y}),{data:O}=u({queryKey:["plan"],queryFn:G}),{data:I}=u({queryKey:["user"],queryFn:$}),{data:j}=u({queryKey:["appliance",s?.id],queryFn:()=>P(s?.id)}),U=p("process")?p("process"):1,N=p("paymentMethod"),L=r=>O?.filter(o=>r==o?.processId),C=I?.filter(r=>r?.role==="closer"||r?.role==="verifier");f.useEffect(()=>{N==="demandDraft"?(h("card"),c("bank")):h("bank"),N==="card"?(h("bank"),c("card")):h("card")},[c,h,N]);const T=A({mutationFn:R,onSuccess:r=>{r?.id&&(q.invalidateQueries({queryKey:["leads"]}),y.success("Edited Successfully."),a())}}),K=r=>{T.mutate({...r,id:s?.id,initialStatus:s?.status?.name,finalStatus:E})},z=p("card.cardNumber");return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50 overflow-y-scroll",onClick:a,children:e.jsxs(b.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-5xl h-[90vh] overflow-y-scroll",onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Edit This Lead."})}),e.jsx("div",{className:"m-4 my-10",children:e.jsxs(b.form,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:M(K),autoComplete:"off",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"title",className:"font-semibold",children:"Change Status"}),e.jsxs("select",{...c("status",{required:"Please select Status."}),id:"status",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{selected:!0,disabled:!0,value:"0",children:"Select A Status"}),V?.map(r=>e.jsx("option",{value:r?.id,children:r?.name}))]}),l?.status&&e.jsx("p",{className:"text-red-500",children:l?.status?.message})]}),s?.statusId!==D&&e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5 my-2",children:[e.jsx("label",{htmlFor:"reason",className:"font-semibold",children:"Reason For Status Change:"}),e.jsx("textarea",{rows:5,id:"reason",...c("reason"),placeholder:"Reason",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsx("p",{className:"mb-4 text-2xl font-semibold italic text-black/80 underline",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"title",className:"font-semibold",children:["Title"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...c("title",{required:"Please select Title."}),id:"title",defaultValue:"1",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{value:"Mr.",children:"Mr."}),e.jsx("option",{value:"Mrs.",children:"Mrs."}),e.jsx("option",{value:"Miss",children:"Miss"}),e.jsx("option",{value:"Ms",children:"Ms"})]}),l?.title&&e.jsx("p",{className:"text-red-500",children:l?.title?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"firstName",className:"font-semibold",children:["First Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...c("firstName",{required:"Please Enter First Name."}),id:"firstName",placeholder:"First Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.firstName&&e.jsx("p",{className:"text-red-500",children:l?.firstName?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"middleName",className:"font-semibold",children:"Middle Name"}),e.jsx("input",{type:"text",...c("middleName"),id:"middleName",placeholder:"Middle Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"lastName",className:"font-semibold",children:["Last Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...c("lastName",{required:"Please Enter Last Name."}),id:"lastName",placeholder:"Last Name",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.lastName&&e.jsx("p",{className:"text-red-500",children:l?.lastName?.message})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsxs("label",{htmlFor:"centre",className:"font-semibold",children:["Centre"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...c("centre",{required:"Please Enter Centre Name."}),id:"centre",placeholder:"Centre",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.centre&&e.jsx("p",{className:"text-red-500",children:l?.centre?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm col-span-3",children:[e.jsx("label",{htmlFor:"address",className:"font-semibold",children:"Address"}),e.jsx("textarea",{...c("address"),id:"address",placeholder:"Address",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"city",className:"font-semibold",children:"City"}),e.jsx("input",{type:"text",...c("city"),id:"city",placeholder:"West Bridgford",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"county",className:"font-semibold",children:"County"}),e.jsx("input",{type:"text",...c("county"),id:"county",placeholder:"Nottinghamshire",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"pinCode",className:"font-semibold",children:["Post Code"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...c("pincode"),id:"pinCode",placeholder:"700001",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Password"}),e.jsx("input",{type:"text",...c("password"),id:"password",placeholder:"***********",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"dob",className:"font-semibold",children:"Date of Birth"}),e.jsx("input",{type:"date",...c("dateOfBirth"),id:"dob",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"phoneNumber",className:"font-semibold",children:["Phone Number"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",maxLength:10,...c("phone",{required:"Please Enter Phone Number."}),id:"phone",placeholder:"(033) 2347 9645",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.phone&&e.jsx("p",{className:"text-red-500",children:l?.phone?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"poa",className:"font-semibold",children:"Power Of Attorney"}),e.jsxs("select",{...c("poa",{required:"Please Select Yes/No."}),id:"poa",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Yes/No."}),e.jsx("option",{value:"true",children:"YES"}),e.jsx("option",{value:"false",children:"NO"})]}),l?.poa&&e.jsx("p",{className:"text-red-500",children:l?.poa?.message})]})]}),e.jsx("p",{className:"mb-4 mt-16 text-2xl font-semibold italic text-black/80 underline",children:"Customer Plan and Product Details"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"process",className:"font-semibold",children:"Select Process"}),e.jsxs("select",{...c("process",{required:"Please Select a Process."}),id:"process",defaultValue:"",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{disabled:!0,selected:!0,value:"",children:"Select a Process"}),B?.map(r=>e.jsx("option",{value:r?.id,children:r?.name?.toUpperCase()},r?.id))]}),l?.process&&e.jsx("p",{className:"text-red-500",children:l?.process?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"plan",className:"font-semibold",children:"Plan"}),e.jsxs("select",{...c("plan",{required:"Please Select a Plan."}),id:"plan",defaultValue:"",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{disabled:!0,selected:!0,value:"",children:"Select a Plan"}),L(U)?.map(r=>e.jsx("option",{value:r?.id,children:r?.name?.toUpperCase()},r?.id))]}),l?.plan&&e.jsx("p",{className:"text-red-500",children:l?.plan?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"closer",className:"font-semibold",children:"Closer"}),e.jsxs("select",{...c("closer",{required:"Please Select a Closer."}),id:"closer",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{selected:!0,value:"",children:"Select a Closer"}),C?.map(r=>e.jsx("option",{value:r?.id,children:r?.alias?.toUpperCase()},r?.id))]}),l?.closer&&e.jsx("p",{className:"text-red-500",children:l?.closer?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"verifier",className:"font-semibold",children:"Verifier"}),e.jsxs("select",{...c("verifier",{required:"Please Select a Verifier."}),id:"verifier",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{selected:!0,value:"",children:"Select a Verifier"}),C?.map(r=>e.jsx("option",{value:r?.id,children:r?.alias?.toUpperCase()},r?.id))]}),l?.verifier&&e.jsx("p",{className:"text-red-500",children:l?.verifier?.message})]})]}),j&&j?.length>0&&j.map((r,o)=>e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 mt-3",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"appliance",className:"font-semibold",children:"Appliance Name"}),e.jsx("input",{readOnly:!0,value:r?.name,className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"makeOfAppliance",className:"font-semibold",children:"Make of Appliance"}),e.jsx("input",{readOnly:!0,value:r?.makeOfAppliance,className:"border border-gray-400 px-3 py-1 rounded outline-none"})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"age",className:"font-semibold",children:"Age"}),e.jsx("input",{readOnly:!0,value:r?.age,className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]})]},o),e.jsx("button",{type:"button",onClick:()=>{i(r),d(!0)},className:"bg-green-500 w-fit text-white text-xs font-semibold py-0.5 px-6 mt- rounded cursor-pointer",children:"Edit"})]})),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"paymentMethod",className:"font-semibold",children:"Select Payment Method"}),e.jsxs("select",{...c("paymentMethod",{required:"Please Select a Payment Method."}),id:"paymentMethod",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{disabled:!0,selected:!0,value:"",children:"Select a Payment Method"}),e.jsx("option",{value:"cash",children:"Cash/Cheque"}),e.jsx("option",{value:"directDebit",children:"Direct Debit (DD)"}),e.jsx("option",{value:"card",children:"Card"})]}),l?.paymentMethod&&e.jsx("p",{className:"text-red-500",children:l?.paymentMethod?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"shift",className:"font-semibold",children:"Shift"}),e.jsxs("select",{...c("shift",{required:"Please Select a Shift."}),id:"shift",className:"border outline-none border-gray-400 px-3 py-1 rounded",children:[e.jsx("option",{selected:!0,value:"UNITED KINGDOM (UK)",children:"UNITED KINGDOM (UK)"}),e.jsx("option",{value:"UNITED STATES (US)",children:"UNITED STATES (US)"}),e.jsx("option",{value:"AUSTRALIA",children:"AUSTRALIA (AU)"})]}),l?.shift&&e.jsx("p",{className:"text-red-500",children:l?.shift?.message})]})]}),N==="directDebit"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"bank account details"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"bankName",className:"font-semibold",children:"Bank Name"}),e.jsx("input",{type:"text",...c("bank.bankName",{required:"Please Enter Bank Name."}),id:"bankName",placeholder:"Bank of UK.",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.bank?.bankName&&e.jsx("p",{className:"text-red-500",children:l?.bank?.bankName?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountName",className:"font-semibold",children:"Account Name"}),e.jsx("input",{type:"text",...c("bank.accountName",{required:"Please Enter Account Name."}),id:"accountName",placeholder:"Steve Balmer",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.bank?.accountName&&e.jsx("p",{className:"text-red-500",children:l?.bank?.accountName?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountNumber",className:"font-semibold",children:"Account Number"}),e.jsx("input",{type:"text",...c("bank.accountNumber",{required:"Please Enter Account Number."}),id:"accountNumber",placeholder:"000405007899",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.bank?.accountNumber&&e.jsx("p",{className:"text-red-500",children:l?.bank?.accountNumber?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"sort",className:"font-semibold",children:"SORT Code"}),e.jsx("input",{type:"text",...c("bank.sort",{required:"Please Enter Sort Code."}),id:"sort",placeholder:"******",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.bank?.sort&&e.jsx("p",{className:"text-red-500",children:l?.bank?.sort?.message})]})]})]}),N==="card"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"card details"}),e.jsxs("div",{className:"grid grid-cols-8 gap-x-4 gap-y-4 ",children:[e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardName",className:"font-semibold",children:"Name"}),e.jsx("input",{type:"text",...c("card.name",{required:"Please Enter Card Holder's Name."}),id:"cardName",placeholder:"Steve Morrison",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.card?.name&&e.jsx("p",{className:"text-red-500",children:l?.card?.name?.message})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardBankName",className:"font-semibold",children:"Bank Name"}),e.jsx("input",{type:"text",...c("card.bankName",{required:"Please Enter Bank Name."}),id:"cardBankName",placeholder:"Bank of UK",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.card?.bankName&&e.jsx("p",{className:"text-red-500",children:l?.card?.bankName?.message})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardNumber",className:"font-semibold",children:"Card Number"}),e.jsx("input",{type:"text",maxLength:16,...c("card.cardNumber",{onChange:()=>k("card.cardNumber"),required:"Please Enter Card Number.",validate:r=>{const o=w.number(r);if(o.card&&m(o.card.type),!o.isValid)return m(""),"Invalid Card."}}),id:"cardNumber",placeholder:"4242 4242 4242 4242",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),e.jsxs("div",{className:"flex gap-3",children:[n&&z.length>0&&e.jsxs("p",{className:"text-green-600 uppercase ml-2",children:["âœ“ ",n]}),l?.card?.cardNumber&&e.jsx("p",{className:"text-red-500",children:l?.card?.cardNumber?.message})]})]}),e.jsxs("div",{className:"col-span-1 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"expiry",className:"font-semibold",children:"Card Expiry"}),e.jsx("input",{type:"text",maxLength:7,...c("card.expiry",{required:"Please Enter Card Expiry.",onChange:()=>k("card.expiry"),validate:r=>{const o=w.expirationDate(r);if(!o.isPotentiallyValid)return"Invalid Date.";if(o.isValid)return!0}}),id:"expiry",placeholder:"05/30",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.card?.expiry&&e.jsx("p",{className:"text-red-500",children:l?.card?.expiry?.message})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cvv",className:"font-semibold",children:"Card CVV"}),e.jsx("input",{type:"text",maxLength:3,...c("card.cvv",{required:"Please Enter CVV."}),id:"cvv",placeholder:"424",className:"border border-gray-400 px-3 py-1 rounded outline-none"}),l?.card?.cvv&&e.jsx("p",{className:"text-red-500",children:l?.card?.cvv?.message})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"comments",className:"font-semibold",children:"Comments"}),e.jsx("textarea",{...c("comment"),rows:5,id:"comments",placeholder:"Comments if Any",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})}),e.jsxs("div",{className:"my-4 text-center",children:[e.jsx("button",{type:"submit",className:"w-full cursor-pointer bg-green-500 hover:bg-green-600 text-white font-medium py-2 rounded mb-3 transition-colors",children:"Submit"}),e.jsx("button",{onClick:a,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})]})]})})]})}),x&&e.jsx(W,{handleClose:()=>d(!1),detail:t})]})},ne=({details:a,handleClose:s})=>{const{register:n,watch:m}=F({defaultValues:{...a}}),x=m("paymentMethod"),{data:d}=u({queryKey:["appliance",a?.id],queryFn:()=>P(a?.id)});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",onClick:s,children:e.jsxs(b.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-5xl max-h-[95vh]  overflow-y-scroll",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Lead Details"})}),e.jsx("div",{className:"overflow-y-scroll h-full",children:e.jsx("div",{className:"p-5",children:e.jsxs(b.form,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},autoComplete:"off",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"mb-4 text-2xl font-semibold italic text-black/80 underline",children:"Customer Information"}),e.jsx("p",{className:"bg-blue-600 text-white rounded px-3 py-0.5 text-sm",children:new Date(a?.createdAt).toDateString().substring(0,10)})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"title",className:"font-semibold",children:["Title",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.title})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"firstName",className:"font-semibold",children:["First Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.firstName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"middleName",className:"font-semibold",children:"Middle Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.middleName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"lastName",className:"font-semibold",children:["Last Name"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.lastName})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsxs("label",{htmlFor:"centre",className:"font-semibold",children:["Centre"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.centre})]}),e.jsxs("div",{className:"flex flex-col text-sm col-span-3",children:[e.jsx("label",{htmlFor:"address",className:"font-semibold",children:"Address"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.address})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"city",className:"font-semibold",children:"City"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.city})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"county",className:"font-semibold",children:"County"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.county})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"pinCode",className:"font-semibold",children:["Pin Code",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.pincode})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Password"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.password})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"dob",className:"font-semibold",children:"Date of Birth"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.dateOfBirth?.substring(0,10)})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"phoneNumber",className:"font-semibold",children:["Phone Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.phone})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsxs("label",{htmlFor:"poa",className:"font-semibold",children:["Power of Attorney",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 h-full rounded uppercase",children:a?.poa?.toString()})]})]}),e.jsx("p",{className:"mb-4 mt-16 text-2xl font-semibold italic text-black/80 underline",children:"Customer Plan and Product Details"}),e.jsxs("div",{className:"grid grid-cols-5 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"process",className:"font-semibold",children:"Process"}),e.jsx("p",{...n("process"),id:"process",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.process?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"plan",className:"font-semibold",children:"Plan"}),e.jsx("p",{...n("plan"),id:"plan",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.plan?.name})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"leadBy",className:"font-semibold",children:"Lead By"}),e.jsx("p",{id:"leadBy",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.leadBy?.alias})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"closer",className:"font-semibold",children:"Closer"}),e.jsx("p",{...n("closer"),id:"closer",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.closer?.alias})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"verifier",className:"font-semibold",children:"Verifier"}),e.jsx("p",{...n("verifier"),id:"verifier",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.verifier?.alias?a?.verifier?.alias:"No Verifier"})]})]}),d&&d?.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold italic text-black/80 underline",children:"Appliance Details"}),e.jsxs("table",{className:"text-sm text-left rtl:text-right text-gray-500 w-full",children:[e.jsx("thead",{className:"text-center text-gray-700 uppercase bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sr. No."}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Make Of Appliance"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Age"})]})}),d&&d?.length>0&&d.map((t,i)=>e.jsxs("tr",{className:" capitalize text-center border-b :border-gray-700 border-gray-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap uppercase",children:i+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap uppercase",children:t?.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap uppercase",children:t?.makeOfAppliance}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap uppercase",children:t?.age})]},t?.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-4 my-5",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"paymentMethod",className:"font-semibold",children:"Payment Method"}),e.jsx("p",{...n("paymentMethod"),id:"paymentMethod",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.paymentMethod})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"shift",className:"font-semibold",children:"Shift"}),e.jsx("p",{...n("shift"),id:"shift",className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.shift})]})]}),x==="directDebit"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"bank account details"}),e.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-4",children:[e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"bankName",className:"font-semibold",children:"Bank Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.bankName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountName",className:"font-semibold",children:"Account Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.accountName})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"accountNumber",className:"font-semibold",children:"Account Number"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.accountNumber})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"sort",className:"font-semibold",children:"SORT Code"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.sort})]})]})]}),x==="card"&&e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"capitalize text underline font-semibold italic",children:"card details"}),e.jsxs("div",{className:"grid grid-cols-8 gap-x-4 gap-y-4 ",children:[e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardName",className:"font-semibold",children:"Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardName})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardBankName",className:"font-semibold",children:"Bank Name"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardBankName})]}),e.jsxs("div",{className:"col-span-2 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cardNumber",className:"font-semibold",children:"Card Number"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.cardNumber})]}),e.jsxs("div",{className:"col-span-1 flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"expiry",className:"font-semibold",children:"Card Expiry"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase",children:a?.expiry})]}),e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"cvv",className:"font-semibold",children:"Card CVV"}),e.jsx("p",{className:"border outline-none border-gray-400 px-3 py-1 rounded uppercase h-full",children:a?.cardCvv})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col text-sm space-y-0.5",children:[e.jsx("label",{htmlFor:"comments",className:"font-semibold",children:"Comments"}),e.jsx("textarea",{name:"comment",readOnly:!0,value:a?.comment,rows:5,id:"comments",placeholder:"Comments if Any",className:"border border-gray-400 px-3 py-1 rounded outline-none"})]})}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:s,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})})]})})})]})})})};export{ce as E,ne as L,re as g};
