import{a as m,b as h,V as y,r as l,u as g,j as e,m as d}from"./index-BNTtBKWT.js";const u=async(s,r,n)=>{try{const{data:t}=await m.get(`/superadmin/attendance?name=${s}&startDate=${r}&endDate=${n}`);return t}catch(t){return console.log(t),h.isAxiosError(t)&&y.error(t?.response?.data?.message,{id:"getAllAttendance"}),t}},N=()=>{const[s,r]=l.useState(""),[n,t]=l.useState(""),[i,c]=l.useState(""),{data:x,refetch:o}=g({queryKey:["all-attendance"],queryFn:()=>u(s,n,i)}),p=()=>{r(""),t(""),c(""),o()};return e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"p-5",children:[e.jsxs(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:0},children:[e.jsxs("div",{className:"grid grid-cols-4 gap-x-5 gap-y-3",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:s,onChange:a=>r(a?.target?.value),id:"name",placeholder:"Name",className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"startDate",children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:n,onChange:a=>t(a?.target?.value),id:"startDate",className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"endDate",children:"End Date"}),e.jsx("input",{type:"date",name:"endDate",value:i,onChange:a=>c(a?.target?.value),id:"endDate",className:"border border-gray-400 px-3 py-1 rounded-md outline-none"})]})]}),e.jsxs("div",{className:"mb-10 mt-3 flex items-center gap-2 text-sm",children:[e.jsx("button",{onClick:()=>o(),className:"bg-green-500 text-white px-10 py-1 rounded-md cursor-pointer",children:"Search"}),e.jsx("button",{onClick:p,className:"bg-sky-500 text-white px-10 py-1 rounded-md cursor-pointer",children:"Reset Filters"})]})]}),e.jsx("div",{className:"mb-5  text-gray-900 bg-white ",children:e.jsx(d.p,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-3xl font-semibold uppercase origin-center w-fit",children:"My Workspaces - ALL attendances"})}),e.jsx(d.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 ",children:[e.jsx("thead",{className:"text-center text-gray-700 uppercase bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Employee Id"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Marking date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Marking time"})]})}),e.jsx("tbody",{children:x?.map(a=>e.jsxs("tr",{className:"capitalize text-center odd:bg-white odd::bg-gray-900 even:bg-gray-50 even::bg-gray-800 border-b :border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap :text-white",children:a?.userId}),e.jsx("td",{className:"px-6 py-4",children:a?.user?.name}),e.jsx("td",{className:"px-6 py-4",children:new Date(a?.dateTime).toDateString()}),e.jsxs("td",{className:"px-6 py-4 grid grid-cols-2 gap-x-",children:[e.jsx("p",{children:new Date(a?.dateTime).toLocaleTimeString()}),e.jsx("p",{className:`text-white px-5 py-0.5 text-xs rounded w-fit ${a?.isLate?"bg-red-500":"bg-green-500"}`,children:a?.isLate?"Late":"ONTIME"})]})]},a?.id))})]})})]})})};export{N as default};
