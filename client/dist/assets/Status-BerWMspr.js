import{c as y,e as x,V as h,j as e,m as u,r as m,u as g,l as b,M as j,f as N}from"./index-_7Kt66s7.js";import{u as p}from"./useMutation-DU8bvPR1.js";import{c as w,e as S,d as v,g as C}from"./status-lndqRMdx.js";import{D as k}from"./DeleteModal-ChipbVUX.js";const F=({handleClose:t})=>{const{register:s,handleSubmit:o,formState:{errors:n}}=y(),l=x(),c=p({mutationFn:a=>w(a),onSuccess:a=>{a?.name&&(h.success("Status Created Successfully!"),l.invalidateQueries({queryKey:["status"]}),t())}}),d=async a=>{c.mutate(a)};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",onClick:t,children:e.jsxs(u.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-xl  overflow-hidden",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Add a New Status"})}),e.jsxs("form",{onSubmit:o(d),className:"px-6 py-5 space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",placeholder:"Name",autoComplete:"off",autoFocus:!0,...s("name",{required:"Please Enter Name of Status."}),className:"w-full border border-gray-400 px-2 py-1 rounded-md outline-none"}),n?.name&&e.jsx("p",{className:"text-red-500 text-sm",children:n?.name?.message})]}),e.jsxs("div",{className:"my-4 text-center",children:[e.jsx("button",{type:"submit",className:"w-full cursor-pointer bg-green-500 hover:bg-green-600 text-white font-medium py-2 rounded mb-3 transition-colors",children:"Submit"}),e.jsx("button",{onClick:t,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})]})]})]})})},q=({handleClose:t,item:s})=>{const{register:o,handleSubmit:n,formState:{errors:l}}=y({defaultValues:{name:s?.name}}),c=x(),d=p({mutationFn:r=>S(s?.id,r),onSuccess:r=>{r?.name&&(h.success("Status Updated Successfully!"),c.invalidateQueries({queryKey:["status"]}),t())}}),a=async r=>{d.mutate(r)};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",onClick:t,children:e.jsxs(u.div,{initial:{opacity:.5,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg w-full max-w-xl  overflow-hidden",onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"",children:e.jsx("p",{className:"bg-gray-200 py-2 px-6 text-xl",children:"Update This Status"})}),e.jsxs("form",{onSubmit:n(a),className:"px-6 py-5 space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",placeholder:"Name",autoFocus:!0,autoComplete:"off",...o("name",{required:"Please Enter Name of Status."}),className:"w-full border border-gray-400 px-2 py-1 rounded-md outline-none"}),l?.name&&e.jsx("p",{className:"text-red-500 text-sm",children:l?.name?.message})]}),e.jsxs("div",{className:"my-4 text-center",children:[e.jsx("button",{type:"submit",className:"w-full cursor-pointer bg-green-500 hover:bg-green-600 text-white font-medium py-2 rounded mb-3 transition-colors",children:"Submit"}),e.jsx("button",{onClick:t,className:"w-full cursor-pointer border border-gray-300 hover:bg-gray-100 text-gray-700 font-medium py-2 rounded transition-colors",children:"Cancel"})]})]})]})})},z=()=>{const[t,s]=m.useState({create:!1,delete:!1,edit:!1}),[o,n]=m.useState(0),[l,c]=m.useState({}),d=x(),{data:a}=g({queryKey:["status"],queryFn:C}),r=p({mutationFn:i=>v(i),onSuccess:i=>{i?.id&&d.invalidateQueries({queryKey:["status"]})}});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-5  text-gray-900 bg-white ",children:[e.jsxs(u.div,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex justify-between items-center origin-center",children:[e.jsx("p",{className:"text-3xl font-semibold uppercase origin-center w-fit",children:"Status - All Status"}),e.jsxs("button",{onClick:()=>s({create:!0,delete:!1,edit:!1}),className:"py-1.5 px-7 bg-blue-700 text-white rounded-md text-sm flex gap-1 items-center",children:[e.jsx(b,{className:"text-xl"})," Add Status"]})]}),e.jsx(u.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mt-1 text-sm font-normal text-gray-700 w-[50%]",children:"Browse a list of Flowbite products designed to help you work and play, stay organized, get answers, keep in touch, grow your business, and more."})]}),e.jsx(u.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 ",children:[e.jsx("thead",{className:"text-center text-gray-700 uppercase bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sr. No."}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:a?.map((i,f)=>e.jsxs("tr",{className:"capitalize text-center odd:bg-white odd::bg-gray-900 even:bg-gray-50 even::bg-gray-800 border-b :border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap :text-white",children:f+1}),e.jsx("td",{className:"px-6 py-4",children:i?.name}),e.jsxs("td",{className:"px-6 py-4 flex gap-1 items-center justify-center",children:[e.jsx("button",{onClick:()=>{n(i.id),s({create:!1,delete:!1,edit:!0}),c(i)},className:"font-medium text-white bg-green-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1",children:e.jsx(j,{})}),e.jsx("button",{onClick:()=>{n(i.id),s({create:!1,delete:!0,edit:!1})},className:"font-medium text-white bg-red-500 rounded-md w-fit px-2 py-1 text-sm flex items-center gap-1",children:e.jsx(N,{})})]})]},i?.id))})]})})]})}),t.create&&e.jsx(F,{handleClose:()=>s({create:!1,delete:!1,edit:!1})}),t.edit&&e.jsx(q,{handleClose:()=>s({create:!1,delete:!1,edit:!1}),item:l}),t.delete&&e.jsx(k,{handleClose:()=>s({create:!1,delete:!1,edit:!1}),handleDelete:()=>r.mutate(o)})]})};export{z as default};
